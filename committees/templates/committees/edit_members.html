{% extends 'base.html' %}
{% load staticfiles %}
{% load check_user_group %}

{% block head %}

{% endblock head %}

{% block content %}
<!--
TODO: edit members
<br>
need frontendhalp pls
<br>
{{ committee.name }}
<br>
Use AJAX and autocomplete search field to add/remove users
-->

  <div class="content">
      <div class="card">
          <form action="toggle" method="post">
              {% csrf_token %}
              <div class="input-field user_search_field">
                  <input name="user" type="text" id="autocomplete-input" class="autocomplete" autocomplete="off">
                  <label for="autocomplete-input" id="autocomplete-text">Bruker</label>
              </div>
              <a class="waves-effect waves-light btn submit" onclick="post();">Legg til</a>
          </form>
      </div>
  </div>

  <style>
      #check {
          color: var(--hs-green);
      }
      #uncheck {
          color: var(--hs-gray-li2);
      }
      .checkmark {
          vertical-align: middle;
          margin-bottom: 6px;
      }
      .inline {
          display: inline-block;
      }
      input.inline {
          float: right;
      }
      #autocomplete-text.active {
          color: #9e9e9e !important;
      }
      .content {
          display: block;
          margin-left: auto;
          margin-right: auto;
          max-width: 800px;
          padding: 50px;
      }
      .card {
          height: 150px;
          padding: 30px;
      }
      .name {
          text-transform: capitalize;
      }
      input, .input-field {
          display: inline-block;
      }
      .user_search_field {
          width: 60%;
      }
      .submit {
          width: 35%;
          margin-top: 25px;
          float: right;
      }
      .name, .username{
          display: inline-block;
          width: 200px;
      }
      .toggle {
          width: 50px;
          display: inline-block;
          float: right;
      }
      .people p {
          margin: 1px;
          padding: 1px;
      }
      .collapsible {
        background-color: #eee;
      }
      .collapsible-body {
        padding: 20px;
      }
  </style>
  <script>
      $(function() {
          $('input.autocomplete').autocomplete({
              data: {
                  {% for user in all_users %}
                      "{{ user.first_name }} {{ user.last_name }} - {{ user.username }}": null,
                  {% endfor %}
              }
          });
      });
  </script>
{% endblock content %}
